DROP TABLE car IF EXISTS;
DROP TABLE country IF EXISTS;
DROP TABLE color IF EXISTS;
DROP TABLE brand IF EXISTS;


CREATE TABLE brand
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
name VARCHAR(45) NOT NULL
);
CREATE UNIQUE INDEX brand_name_UNIQUE ON brand (name);

CREATE TABLE color
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
name VARCHAR(45) NOT NULL
);
CREATE UNIQUE INDEX color_name_UNIQUE ON color (name);

CREATE TABLE country
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
name VARCHAR(45) NOT NULL
);
CREATE UNIQUE INDEX country_name_UNIQUE ON country (name);

CREATE TABLE car
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
model    VARCHAR(45) NOT NULL,
release_year INTEGER NOT NULL,
brand_id INTEGER NOT NULL,
color_id INTEGER NOT NULL,
country_id INTEGER NOT NULL,
FOREIGN KEY ( brand_id ) REFERENCES brand (id) ON DELETE CASCADE,
FOREIGN KEY ( color_id ) REFERENCES color (id) ON DELETE CASCADE,
FOREIGN KEY ( country_id ) REFERENCES country (id) ON DELETE CASCADE,
);