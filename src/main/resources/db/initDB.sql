DROP TABLE cars IF EXISTS;
DROP TABLE country IF EXISTS;
DROP TABLE color IF EXISTS;
DROP TABLE brand IF EXISTS;


CREATE TABLE brand
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
name VARCHAR(45) NOT NULL
);
CREATE UNIQUE INDEX brand_name_UNIQUE ON brand (name);

CREATE TABLE color
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
name VARCHAR(45) NOT NULL
);
CREATE UNIQUE INDEX color_name_UNIQUE ON color (name);

CREATE TABLE country
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
name VARCHAR(45) NOT NULL
);
CREATE UNIQUE INDEX country_name_UNIQUE ON country (name);

CREATE TABLE cars
(
id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
model    VARCHAR(45) NOT NULL,
releaseYear INTEGER NOT NULL,
brandId INTEGER NOT NULL,
colorId INTEGER NOT NULL,
countryId INTEGER NOT NULL,
FOREIGN KEY ( brandId ) REFERENCES brand (id) ON DELETE CASCADE,
FOREIGN KEY ( colorId ) REFERENCES color (id) ON DELETE CASCADE,
FOREIGN KEY ( countryId ) REFERENCES country (id) ON DELETE CASCADE,
);